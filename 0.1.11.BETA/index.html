<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<meta name="author" content="Bud Byrd">
<meta name="copyright" content="Apache License, Version 2.0">
<title>HTTP Requests Library Documentation</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
body{-webkit-font-smoothing:antialiased}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
body{tab-size:4}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>HTTP Requests Library Documentation</h1>
<div class="details">
<span id="author" class="author">Bud Byrd</span><br>
<span id="revnumber">version 0.1.11.BETA</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#_features">1.1. Features</a></li>
</ul>
</li>
<li><a href="#_installing">2. Installing</a></li>
<li><a href="#_usage">3. Usage</a>
<ul class="sectlevel2">
<li><a href="#_configuring_the_request">3.1. Configuring the Request</a>
<ul class="sectlevel3">
<li><a href="#_httprequest_properties">3.1.1. HttpRequest Properties</a></li>
<li><a href="#_building_an_httprequest">3.1.2. Building an HttpRequest</a></li>
<li><a href="#_behavior_modification">3.1.3. Behavior Modification</a></li>
</ul>
</li>
<li><a href="#_creating_the_client">3.2. Creating the Client</a></li>
<li><a href="#_using_the_client">3.3. Using the Client</a>
<ul class="sectlevel3">
<li><a href="#_client_methods">3.3.1. Client Methods</a></li>
<li><a href="#_client_examples">3.3.2. Client Examples</a></li>
</ul>
</li>
<li><a href="#_handling_responses">3.4. Handling Responses</a>
<ul class="sectlevel3">
<li><a href="#_httpresponse_properties">3.4.1. HttpResponse Properties</a></li>
<li><a href="#_response_entities">3.4.2. Response Entities</a></li>
<li><a href="#_httpresponse_examples">3.4.3. HttpResponse Examples</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_filters">4. Filters</a>
<ul class="sectlevel2">
<li><a href="#_httpclientrequestfilter">4.1. HttpClientRequestFilter</a></li>
<li><a href="#_httpclientrequestentityfilter">4.2. HttpClientRequestEntityFilter</a></li>
<li><a href="#_httpclientlifecyclefilter">4.3. HttpClientLifecycleFilter</a></li>
<li><a href="#_httpclientresponsefilter">4.4. HttpClientResponseFilter</a></li>
<li><a href="#_httpclientresponseentityfilter">4.5. HttpClientResponseEntityFilter</a></li>
<li><a href="#_httpclientretryfilter">4.6. HttpClientRetryFilter</a></li>
<li><a href="#_filter_chain">4.7. Filter Chain</a></li>
<li><a href="#_built_in_filters">4.8. Built-In Filters</a>
<ul class="sectlevel3">
<li><a href="#_basicauthfilter">4.8.1. BasicAuthFilter</a></li>
<li><a href="#_gzipfilter">4.8.2. GZIPFilter</a></li>
<li><a href="#_deflatefilter">4.8.3. DeflateFilter</a></li>
<li><a href="#_authenticationtokenheaderfilter">4.8.4. AuthenticationTokenHeaderFilter</a></li>
<li><a href="#_loggingfilter">4.8.5. LoggingFilter</a></li>
<li><a href="#_httpstatusexceptionfilter">4.8.6. HttpStatusExceptionFilter</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_entity_converters">5. Entity Converters</a>
<ul class="sectlevel2">
<li><a href="#_entity_readers">5.1. Entity Readers</a></li>
<li><a href="#_entity_writers">5.2. Entity Writers</a></li>
<li><a href="#_built_in_converters">5.3. Built-In Converters</a></li>
</ul>
</li>
<li><a href="#_grails_plugin">6. Grails Plugin</a></li>
<li><a href="#_changelog">7. Changelog</a>
<ul class="sectlevel2">
<li><a href="#_version_1">7.1. Version 1</a>
<ul class="sectlevel3">
<li><a href="#_version_1_0_0">7.1.1. Version 1.0.0</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The HTTP Requests library is a wrapper around popular HTTP client libraries that provides a clean and simplified
interface to make HTTP requests.</p>
</div>
<div class="paragraph">
<p>The spirit of this library is to make it trivial to do easy things with HTTP requests. It is not a complete HTTP
client implementation, and relies on other HTTP client libraries to perform the actual HTTP connections and
conversations.</p>
</div>
<div class="sect2">
<h3 id="_features">1.1. Features</h3>
<div class="paragraph">
<p>The library allows authors to easily create and submit HTTP requests. At a high level, the library provides the
following features, and more.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Configure and submit HTTP requests without knowing how to use the underlying HTTP client implementation.</p>
</li>
<li>
<p>Supports common request features, including query parameters, headers, and request entities.</p>
</li>
<li>
<p>Supports the following HTTP methods:</p>
<div class="ulist">
<ul>
<li>
<p>GET</p>
</li>
<li>
<p>POST</p>
</li>
<li>
<p>PUT</p>
</li>
<li>
<p>DELETE</p>
</li>
<li>
<p>OPTIONS</p>
</li>
<li>
<p>TRACE</p>
</li>
<li>
<p>HEAD</p>
</li>
</ul>
</div>
</li>
<li>
<p>Optionally disable SSL trust and hostname validation.</p>
</li>
<li>
<p>Log HTTP conversations.</p>
</li>
<li>
<p>Ability to create filters that affect the HTTP request during the various phases of its lifecycle.</p>
</li>
<li>
<p>Ability to create custom entity converters for custom object types.</p>
</li>
<li>
<p>Built-in entity converters for common object types.</p>
</li>
<li>
<p>HTTP status exceptions for non-successful response status codes available.</p>
</li>
<li>
<p>Requests can be built using a builder syntax or Groovy DSL closures.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installing">2. Installing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The library is split into several module libraries, which can all be found on
<a href="https://bintray.com/bintray/jcenter">jCenter</a>. The library contains a core module, which contains the bulk of the code
and logic provided by the library. There are also implementation-specific libraries that provide implementations of
popular HTTP client libraries. The table below lists out all of the modules that exist for the HTTP Requests library
and what their purposes are.</p>
</div>
<table class="tableblock frame-all grid-rows spread">
<caption class="title">Table 1. HTTP Requests Library Modules</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Module</th>
<th class="tableblock halign-left valign-top">Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-requests</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A bill-of-materials POM for all libraries.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-requests-core</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains the core logic and interfaces that implementation modules will use.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-requests-jersey1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides a <strong>Jersey 1.x</strong> implementation of the HTTP requests library.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-requests-jersey2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides a <strong>Jersey 2.x</strong> implementation of the HTTP requests library.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-requests-httpcomponents-client</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides an Apache HttpComponents Client implementation of the HTTP requests library.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-requests-test</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains the functional test cases that validate the functionality of an implementation library.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-requests-grails</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <strong>Grails 3.x</strong> plugin that sets up and exposes an <code>HttpClientFactory</code> bean.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>When using the HTTP Requests library, the <code>http-requests-core</code> library need not be explicitly added as a project
dependency. Instead, authors should include an implementation module, which will automatically include the core module.
All modules are deployed under the group <code>com.budjb</code>.</p>
</div>
<div class="paragraph">
<p>As an example, using gradle and opting to use the Jersey 1.x implementation, a dependency should be added like below:</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">dependencies {
    compile "com.budjb:http-requests-jersey1:0.1.11.BETA"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Additionally, the bill-of-materials POM is available to keep dependencies in sync without the need to specify
their version numbers.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_usage">3. Usage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Requests are made using the <code>HttpClientFactory</code>, <code>HttpClient</code>, and <code>HttpRequest</code> objects, regardless of what
implementation module is being used. Requests return responses in the form of the <code>HttpResponse</code> type.</p>
</div>
<div class="sect2">
<h3 id="_configuring_the_request">3.1. Configuring the Request</h3>
<div class="paragraph">
<p>The <code>HttpRequest</code> object is used to configure an HTTP request. It contains many different properties relevant to an HTTP
request, as well as configuration properties that alter the behavior of the <code>HttpClient</code>.</p>
</div>
<div class="sect3">
<h4 id="_httprequest_properties">3.1.1. HttpRequest Properties</h4>
<div class="paragraph">
<p>The HTTP Request configuration properties are enumerated in the following table.</p>
</div>
<table class="tableblock frame-all grid-rows spread">
<caption class="title">Table 2. HttpRequest Properties</caption>
<colgroup>
<col style="width: 12%;">
<col style="width: 12%;">
<col style="width: 12%;">
<col style="width: 62%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uri</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The URI of the request, including the protocol,
                                                                     port, host, and path.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>accept</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Content-Type the client will request from the host
                                                                     in its response.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>contentType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>application/octet-stream</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Content-Type of the request. Applies when the
                                                                     request has an entity.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>charSet</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UTF-8</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Character set of the request entity.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>headers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Map</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request headers. Individual header names can
                                                                     contain multiple values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>queryParameters</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Map</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query parameters of the request. Individual query
                                                                     parameters can contain multiple values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>connectionTimeout</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The amount of time, in milliseconds, the request
                                                                     should wait for the connection to time out.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>readTimeout</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The amount of time, in milliseconds, the request
                                                                     should wait to time out while waiting for content.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sslValidated</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether SSL certification trust chains and host
                                                                     names should be validated.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>followRedirects</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether the HTTP client should follow redirect
                                                                     responses received from the host.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bufferResponseEntity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code>, the entity is read completely from
                                                                     the response and the response&#8217;s <code>InputStream</code> is
                                                                     closed. This allows the entity to be retrieved
                                                                     multiple times.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_building_an_httprequest">3.1.2. Building an HttpRequest</h4>
<div class="paragraph">
<p>The <code>HttpRequest</code> object can be built in a couple different ways. All properties have getters and setters defined, and
the setter methods all return the same object to support a builder-style syntax. Additionally, Groovy closures are
supported.</p>
</div>
<div class="paragraph">
<p>Using the builder syntax, an <code>HttpRequest</code> object may be created like the following:</p>
</div>
<div class="listingblock">
<div class="title">Builder Syntax</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def request = new HttpRequest()
                      .setUri('http://example.com')
                      .setAccept('application/json')</code></pre>
</div>
</div>
<div class="paragraph">
<p>The same request as above can be configured using a Groovy closure, such as:</p>
</div>
<div class="listingblock">
<div class="title">Closure Syntax</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def request = HttpRequest.build {
    uri = 'http://example.com'
    accept = 'application/json'
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_behavior_modification">3.1.3. Behavior Modification</h4>
<div class="paragraph">
<p>As mentioned before, some of the <code>HttpRequest</code> properties alter the behavior of the HTTP client. This section will
identify those properties and their behavior.</p>
</div>
<div class="sect4">
<h5 id="_followredirects">followRedirects</h5>
<div class="paragraph">
<p>By default, the HTTP client will follow redirect responses sent by the server by repeating the request against the new
HTTP URI. If authors do not wish to use this behavior, it can be disabled by setting <code>followRedirects</code> to false. When
this happens, the <code>HttpResponse</code> object will likely not contain much information other than the HTTP status code.</p>
</div>
</div>
<div class="sect4">
<h5 id="_bufferresponseentity">bufferResponseEntity</h5>
<div class="paragraph">
<p>When this is enabled, the response entity (if there is one) is automatically read from the HTTP connection&#8217;s
<code>InputStream</code> into a byte array stored in the <code>HttpResponse</code> object, and the stream is closed. This allows the entity
to be retrieved multiple times. When disabled, the response <code>InputStream</code> can be read only once.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
It is very important that the response&#8217;s <code>InputStream</code> is closed by application authors if this functionality
is disabled, or the underlying system resources may not be freed up. This is true even when an HTTP status exception is
thrown via the <code>HttpStatusExceptionFilter</code>, which includes the <code>HttpResponse</code> in the thrown exception.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_sslvalidated">sslValidated</h5>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Disabling this functionality makes HTTP requests inherently insecure and is not recommended in situations where
host identity verification is important, such as production environments.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>By default, all SSL and TLS connections go through the standard validation steps, and may throw an <code>IOException</code> if
SSL validation fails. Sometimes, authors may wish to bypass this functionality when they know SSL validation will fail
but they still trust the remote host. When this property is set to true, SSL validation will not occur and the request
should succeed unless there&#8217;s a more serious SSL issue encountered.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Disabling SSL validation is a great tool for quickly deploying development environments with self-signed
certificates that are not stored in Java keystores.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_creating_the_client">3.2. Creating the Client</h3>
<div class="paragraph">
<p>An <code>HttpClient</code> is used to make requests, but <code>HttpClient</code> is an interface and can not be created directly. HTTP client
provider modules provide implementations of <code>HttpClient</code> specific to the HTTP client being wrapped. In order to
ensure that authors do not need to worry about what type of <code>HttpClient</code> needs to be created, an <code>HttpClientFactory</code> can
be used to create the client instances using the <code>createHttpClient()</code> method.</p>
</div>
<div class="paragraph">
<p>The <code>HttpClientFactory</code> interface is implemented by provider modules and can be created directly. As an example,
the <strong>Jersey 1.x</strong> module&#8217;s factory can be used to create a Jersey-specific <code>HttpClient</code> instance.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def factory = new JerseyHttpClientFactory()
def client = factory.createHttpClient()</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The <code>HttpClientFactory</code> can be registered as a singleton Spring bean when applications utilize Spring Framework.
The factory can then be injected as a dependency into other managed Spring beans, and the provider module can be
swapped out transparently and without the need to modify dependent objects. The <strong>Grails 3.x</strong> plugin library does this
work automatically for <strong>Grails 3.x</strong> applications.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_using_the_client">3.3. Using the Client</h3>
<div class="paragraph">
<p>The <code>HttpClient</code> contains many methods used to initiate requests. Methods are named after the HTTP method to be used
for the request.</p>
</div>
<div class="ulist">
<div class="title">Supported HTTP Methods</div>
<ul>
<li>
<p>GET</p>
</li>
<li>
<p>POST</p>
</li>
<li>
<p>PUT</p>
</li>
<li>
<p>DELETE</p>
</li>
<li>
<p>TRACE</p>
</li>
<li>
<p>OPTIONS</p>
</li>
<li>
<p>HEAD</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_client_methods">3.3.1. Client Methods</h4>
<div class="paragraph">
<p>Every HTTP method is configured by an <code>HttpRequest</code> object. The request object can be constructed and passed to the
client, or one of the convenience methods that take a Groovy closure can be used to create the request properties.</p>
</div>
<div class="listingblock">
<div class="title">Using an HttpRequest Object</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def client = new JerseyHttpClientFactory().createHttpClient()

def request = new HttpRequest('http://example.com/foo/bar')

def response = client.get(request)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Using a Groovy Closure</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def client = new JerseyHttpClientFactory().createHttpClient()

def response = client.get {
    uri = 'http://example.com/foo/bar'
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Several of the HTTP methods support request entities (or bodies). For those methods that do, applications can either
pass an <code>InputStream</code> that will be sent directly with the HTTP request, or an object that has a valid
<a href="#_entity_converters">entity converter</a> registered with the <code>HttpClient</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This documentation will not cover every single class method, but the API documentation can be referenced for
a complete list of method signatures.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_client_examples">3.3.2. Client Examples</h4>
<div class="sect4">
<h5 id="_basic_http_get_request">Basic HTTP GET Request</h5>
<div class="paragraph">
<p>The <code>HTTP GET</code> method is one of the most used HTTP methods used. This method does not contain a request entity
(or body).</p>
</div>
<div class="paragraph">
<p>Suppose that (for whatever reason) an application needed to retrieve the content&#8217;s of Google&#8217;s home page. The following
code snippet would accomplish this.</p>
</div>
<div class="listingblock">
<div class="title">Retrieve the google.com Page</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def client = new JerseyHttpClientFactory().createHttpClient()
def response = client.get { uri = 'google.com' }</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_posting_an_html_form">Posting an HTML Form</h5>
<div class="paragraph">
<p>The <code>FormData</code> object contains a multi-valued map useful to simulate submitting an HTTP form.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Submitting a <code>FormData</code> object with the request automatically sets the <code>Content-Type</code> of the request.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Submit an HTML Form</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def form = new FormData()
form.addField('foo', 'bar')
form.addField('hello', 'world')

def request = new HttpRequest().setUri('http://example.com/foo/bar')

def client = new JerseyHttpClientFactory().createHttpClient()
def response = client.post(request, form)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Submit an HTML Form with a Groovy Closure</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def form = new FormData()
form.addField('foo', 'bar')
form.addField('hello', 'world')

def client = new JerseyHttpClientFactory().createHttpClient()
def response = client.post(form) { uri = 'http://example.com/foo/bar' }</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_making_a_request_with_an_inputstream">Making a Request with an InputStream</h5>
<div class="paragraph">
<p>Applications may need to submit a request with an <code>InputStream</code>, such as when the request is coming from the file
system. The following example reads a a file from the disk and sends it in a request.</p>
</div>
<div class="listingblock">
<div class="title">PUT a File from the Disk</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def inputStream = new FileInputStream(new File('/path/to/file'))
def client = new JerseyHttpClientFactory().createHttpClient()
def response = client.put(inputStream) { uri = 'http://example.com/foo/bar' }</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_sending_a_json_request">Sending a JSON Request</h5>
<div class="paragraph">
<p>A common use case when working with RESTful APIs involves sending JSON encoded entities.</p>
</div>
<div class="listingblock">
<div class="title">POST a JSON Entity</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def client = new JerseyHttpClientFactory().createHttpClient()
def response = client.post([foo: 'bar', hello: 'world']) {
    uri = 'http://example.com/foo/bar'
    contentType = 'application/json'
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_handling_responses">3.4. Handling Responses</h3>
<div class="paragraph">
<p><code>HttpClient</code> request methods return <code>HttpResponse</code> objects that contain information about the response.</p>
</div>
<div class="sect3">
<h4 id="_httpresponse_properties">3.4.1. HttpResponse Properties</h4>
<div class="paragraph">
<p>The set of response properties is smaller than that of the request, and provides basic information about the response</p>
</div>
<table class="tableblock frame-all grid-rows spread">
<caption class="title">Table 3. HttpResponse Properties</caption>
<colgroup>
<col style="width: %;">
<col style="width: %;">
<col style="width: %;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>status</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP status code of the response.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>contentType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Content-Type of the response, if the response contains an entity.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>charSet</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Character set of the response, if the response contains an entity.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>headers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Map</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response headers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>allow</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>List</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains a list of <code>HttpMethod</code> objects. Typically returned from <code>HTTP OPTIONS</code>
                                     requests.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_response_entities">3.4.2. Response Entities</h4>
<div class="paragraph">
<p>The response entity can be retrieved by using the <code>getEntity()</code> method of the <code>HttpResponse</code>, which return an
<code>InputStream</code> containing the entity. By default, the response entity, if available, is buffered in the <code>HttpResponse</code>
and the response&#8217;s <code>InputStream</code> is closed. Subsequent calls to retrieve the response entity will reproduce the entity
an unlimited amount of times. If the request properties disabled this functionality, the response&#8217;s entity can be read
only once, but it does not require the memory space to buffer the entity in the <code>HttpResponse</code> object.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
When <code>bufferResponseEntity</code> is <code>false</code>, it is very important that a response entity&#8217;s <code>InputStream</code> is closed
when it is no longer needed. If it is not closed, underlying system resources may not be freed up. The <code>close()</code> method
can be called on the <code>HttpResponse</code> to close the input stream.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>HttpResponse</code> supports <a href="#_entity_converters">entity conversion</a> using the <code>getEntity(Class&lt;?&gt; type)</code> method. If an
entity reader is registered that supports the requested type, it will be converted and returned.</p>
</div>
</div>
<div class="sect3">
<h4 id="_httpresponse_examples">3.4.3. HttpResponse Examples</h4>
<div class="sect4">
<h5 id="_retrieving_the_response_as_json">Retrieving the Response as JSON</h5>
<div class="paragraph">
<p>A very common use case is to make a request to an API service that responds with JSON. In this example, assume such an
API exists and returns a <code>Map</code> structure.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def client = httpClientFactory.createHttpClient()
def response = client.get { uri = "https://example.com/api/foo_resource" }
Map json = response.getEntity(Map)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_using_the_response_inputstream">Using the Response InputStream</h5>
<div class="paragraph">
<p>Sometimes it may be beneficial to prevent the entity from being buffered or stored in memory at all, especially when
the entity is expected to be a large file. By disabling the buffering functionality and accessing the <code>InputStream</code>
directly, the server response can be passed directly through streams without buffering, depending on the type of
streams being used. The following example writes the response&#8217;s <code>InputStream</code> directly to a file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def client = httpClientFactory.createHttpClient()
def response = client.get {
    uri = "https://example.com/large_file.tar.gz"
    bufferResponseEntity = false
}

byte[] buffer = new byte[8192]
int read
InputStream in = response.getEntity()
OutputStream out = new FileOutputStream("/path/to/file")

try {
    while (true) {
        read = in.read(buffer)

        if (read == -1) {
            break
        }

        out.write(buffer, 0, read)
    }
}
finally {
    in.close()
    out.close()
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
There are libraries that simplify shoveling data from one stream to another, such as IOUtils from Apache commons.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_retrieving_the_response_entity_as_a_string">Retrieving the Response Entity as a String</h5>
<div class="paragraph">
<p>The simplest of use cases of an HTTP request is to use the response&#8217;s entity as a simple string. The following example
simply grabs the contents of Google&#8217;s home page and prints it out to the system console.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def client = httpClientFactory.createHttpClient()
def response = client.get { uri = "http://google.com" }
println response.getEntity(String)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_handling_status_codes">Handling Status Codes</h5>
<div class="paragraph">
<p>Suppose an API service requires authentication, and the application must handle authentication failures. The following
example watches for <code>HTTP 401</code> response codes and takes an action based on that error case.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def retrieveData() {
    def client = httpClientFactory().createHttpClient()

    try {
        def response = client.get {
            uri = "https://example.com/api/example_resource"
            headers = ["X-Authentication": "some-authentication-token"]
        }
        return response.getEntity(Map)
    }
    catch (HttpUnauthorizedException e) {
        log.warn("call to retrieve data failed due to invalid authentication", e)
        return null
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_filters">4. Filters</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>HttpClient</code> supports the use of filter objects so that applications can react to certain events in the lifecycle
of an HTTP request.</p>
</div>
<div class="paragraph">
<p>Filters can be added to the <code>HttpClientFactory</code> or to the <code>HttpClient</code> directly. Any filters registered with the
<code>HttpClientFactory</code> will automatically be assigned to any <code>HttpClient</code> instance the factory creates. For both objects,
the following methods are available to work with filters.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>addFilter</code></p>
</li>
<li>
<p><code>removeFilter</code></p>
</li>
<li>
<p><code>clearFilters</code></p>
</li>
<li>
<p><code>getFilters</code></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_httpclientrequestfilter">4.1. HttpClientRequestFilter</h3>
<div class="paragraph">
<p>Applications may need to intercept an HTTP request directly before the request is actually made to modify the request
parameters. Any request filter that is registered with the <code>HttpClient</code> will be called directly before the request
is made.</p>
</div>
<div class="paragraph">
<p>A great example of a use of this filter is the built-in <code>BasicAuthFilter</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">// given a client has been created...
client.addFilter(new BasicAuthFilter('username', 'password'))</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>BasicAuthFilter</code> is built with the credentials for the request, and the request is updated with that information
just before the request is actually made.</p>
</div>
</div>
<div class="sect2">
<h3 id="_httpclientrequestentityfilter">4.2. HttpClientRequestEntityFilter</h3>
<div class="paragraph">
<p>This filter allows applications to modify the <code>OutputStream</code> sent to the actual HTTP connection before it is sent.
An example of a built-in filter that uses this functionality is the <code>GZIPFilter</code>, which wraps the output stream
in a <code>GZIPOutputStream</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_httpclientlifecyclefilter">4.3. HttpClientLifecycleFilter</h3>
<div class="paragraph">
<p>This filter is actually a trait that provides several integration points related to the lifecycle of the request.
The trait provides base implementations of each available method so that only the methods a filter cares about must
be overridden. The methods available are as follows.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>onRequest</code> is available to inspect the request properties and the <code>OutputStream</code>, but it should not change anything.
This filter method differs from the request filter in that the former is meant to modify the request, while this
filter is meant to inspect it once all changes have been made.</p>
</li>
<li>
<p><code>onResponse</code> is similar in purpose to <code>onRequest</code>, but is called once a response has been received.</p>
</li>
<li>
<p><code>onComplete</code> is called once the HTTP request has completed and no further retries have been requested. This is the
final filter opportunity before the HTTP request call returns to the caller.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_httpclientresponsefilter">4.4. HttpClientResponseFilter</h3>
<div class="paragraph">
<p>The response filter is called after a response has been received from the HTTP request. This filter provides an
opportunity to modify the <code>HttpResponse</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_httpclientresponseentityfilter">4.5. HttpClientResponseEntityFilter</h3>
<div class="paragraph">
<p>The response entity filter is called after a response has been received from the HTTP request. This filter provides an
opportunity to modify the response&#8217;s entity <code>InputStream</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_httpclientretryfilter">4.6. HttpClientRetryFilter</h3>
<div class="paragraph">
<p>The retry filter allows applications to determine if a request should be retried based on some criteria. If any
one retry filter determines that the request should be retried, the request will be submitted again until no more
retry filters request a retry.</p>
</div>
<div class="paragraph">
<p>A use case for this functionality is authentication schemes that provide an authentication token that can be reused
until it expires. A retry filter might be created for this type of authentication scheme that inspects the response
of a call to the service that requires the authentication token, and re-authenticates if the previous authentication
token has expired. Once a new authentication token is obtained, the original request can be retried with the updated
authentication token.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
There is a built-in <code>AuthenticationTokenHeaderFilter</code> class that creates a framework for this type of
authentication scheme.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_filter_chain">4.7. Filter Chain</h3>
<div class="paragraph">
<p>The graphic below illustrates the order in which the filters explained above are called during the process of making
an HTTP request.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="images/filters.png" alt="HTTP Request Filter Chain">
</div>
<div class="title">Figure 1. HTTP Request Filter Chain</div>
</div>
</div>
<div class="sect2">
<h3 id="_built_in_filters">4.8. Built-In Filters</h3>
<div class="paragraph">
<p>The library includes several built-in filters for common use cases.</p>
</div>
<div class="sect3">
<h4 id="_basicauthfilter">4.8.1. BasicAuthFilter</h4>
<div class="paragraph">
<p>The basic authentication filter provides simple basic auth functionality with a username and a password.</p>
</div>
</div>
<div class="sect3">
<h4 id="_gzipfilter">4.8.2. GZIPFilter</h4>
<div class="paragraph">
<p>The GZIP filter wraps the output of the request with a <code>GZIPOutputStream</code> so that the entity&#8217;s contents are compressed
with the GZIP algorithm. The appropriate <code>Content-Encoding</code> header is set.</p>
</div>
</div>
<div class="sect3">
<h4 id="_deflatefilter">4.8.3. DeflateFilter</h4>
<div class="paragraph">
<p>The deflate filter wraps the output of the request with a <code>DeflateOutputStream</code> so that the entity&#8217;s contents are
compressed with the deflate algorithm. The appropriate <code>Content-Encoding</code> header is set.</p>
</div>
</div>
<div class="sect3">
<h4 id="_authenticationtokenheaderfilter">4.8.4. AuthenticationTokenHeaderFilter</h4>
<div class="paragraph">
<p>This filter is abstract and provides a framework for HTTP requests that require token authentication and follow the
flow:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If no authentication token is known, authenticate.</p>
</li>
<li>
<p>Make the HTTP request.</p>
</li>
<li>
<p>If HTTP status 401 is received, and no retries have been attempted, re-authenticate and request a retry.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The filter provides integration points so that authentication logic and authentication token header names can be
provided by concrete implementations of the filter.</p>
</div>
</div>
<div class="sect3">
<h4 id="_loggingfilter">4.8.5. LoggingFilter</h4>
<div class="paragraph">
<p>The logging filter captures the contents of the request and the response, and logs the data to an SLF4j logger. The
filter can be configured with a logger name to use, otherwise the fully-qualified class name of the logging filter
will be used.</p>
</div>
</div>
<div class="sect3">
<h4 id="_httpstatusexceptionfilter">4.8.6. HttpStatusExceptionFilter</h4>
<div class="paragraph">
<p>The <code>HttpStatusExceptionFilter</code> filter modifies how the response status is treated. When an HTTP status that
is not considered successful (that is, not in the 200-299 range), an exception representing that status code is thrown.
For example, if an <code>HTTP 404</code> is received, an <code>HttpNotFoundException</code> will be thrown.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Use this functionality to create different error handling for expected error cases.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If no appropriate exception exists for the HTTP status code that is received, an <code>HttpStatusException</code> is thrown
instead. This exception is actually the superclass of all HTTP status specific exceptions.</p>
</div>
<div class="paragraph">
<p>These exceptions contain the following information about the response:</p>
</div>
<table class="tableblock frame-all grid-rows spread">
<caption class="title">Table 4. HttpStatusException Properties</caption>
<colgroup>
<col style="width: %;">
<col style="width: %;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The HTTP status code of the response, as an <code>Integer</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>HttpResponse</code> object containing details about the received response.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_entity_converters">5. Entity Converters</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Entity converters are responsible for converting request and response entities to and from raw byte arrays. This
prevents applications from having to make separate calls to helper methods or classes to do the conversion.</p>
</div>
<div class="paragraph">
<p>Much like filter, an entity converter can be registered with both the <code>HttpClientFactory</code> and <code>HttpClient</code> objects.
Any entity converter registered with the factory will automatically be added to any clients it creates. Entity
converters can be interacted with on both the factory and the client with the following methods.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>addEntityConverter</code></p>
</li>
<li>
<p><code>removeEntityConveter</code></p>
</li>
<li>
<p><code>getEntityConverters</code></p>
</li>
<li>
<p><code>clearEntityConverters</code></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_entity_readers">5.1. Entity Readers</h3>
<div class="paragraph">
<p>Entity readers are responsible for converting the raw byte array of a response entity into some other type of object.
Applications can create a new entity reader for a custom object type that contains the logic to read relevant
information from the byte array entity and create the custom object from it, populated with the data from the response.</p>
</div>
<div class="paragraph">
<p>Entity reader implementations should implement the <code>EntityReader</code> interface.</p>
</div>
</div>
<div class="sect2">
<h3 id="_entity_writers">5.2. Entity Writers</h3>
<div class="paragraph">
<p>Entity writers are responsible for converting an object into a raw byte array for use in a request. Much like the entity
readers, entity writers provide applications a method to convert custom objects for use in a request without having to
handle that logic separately from the request call.</p>
</div>
<div class="paragraph">
<p>Entity writer implementations should implement the <code>EntityWriter</code> interface.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Entity writers have the option to modify the request by adding the <code>Content-Type</code> of the entity it successfully
converted, if a <code>Content-Type</code> makes sense. This only happens if a <code>Content-Type</code> had not been previously set on the
request.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_built_in_converters">5.3. Built-In Converters</h3>
<div class="paragraph">
<p>The library contains several built-in entity converters that are, by default, automatically registered with all client
instances. Those built-ins include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>byte[]</code> reader and writer.</p>
</li>
<li>
<p><code>String</code> reader and writer.</p>
</li>
<li>
<p><code>GString</code> writer.</p>
</li>
<li>
<p><code>Map</code> reader and writer.</p>
</li>
<li>
<p><code>List</code> reader and writer.</p>
</li>
<li>
<p><code>FormData</code> reader and writer.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_grails_plugin">6. Grails Plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Grails 3.x plugin makes using the <strong>http-requests</strong> library with Grails easy. To use the plugin, simply include the
Grails plugin artifact (<code>com.budjb:http-requests-grails:0.1.11.BETA</code>) and a provider library.</p>
</div>
<div class="paragraph">
<p>During initialization, the Grails plugin will automatically locate the <code>HttpClientFactory</code> and register it as a Spring
bean with the name <code>httpClientFactory</code>. This class can be injected into other managed Spring beans and used without
needing to create the factory manually.</p>
</div>
<div class="paragraph">
<p>The plugin also makes it easy to create and use filters and converters. Filters should be created under the
<code>grails-app/http-filters</code> directory, and any filter found under that directory will automatically be registered with
the <code>httpClientFactory</code> bean. Likewise, any converter found in the <code>grails-app/http-converters</code> directory will
automatically be registered with the <code>httpClientFactory</code> bean.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Filters and converters found in their appropriate directories are registered with the client factory, which will
automatically include those filters and converters in any <code>HttpClient</code> that it creates.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Filters and converters are registered as managed Spring beans as singletons. Other managed Spring beans can be
injected into those filters and converters, much like controllers and services.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>There is a small selection of configuration values available to the library, as listed below. These properties can
be assigned under the <code>httprequests</code> key in the application configuration.</p>
</div>
<table class="tableblock frame-all grid-rows spread">
<caption class="title">Table 5. Configuration Properties</caption>
<colgroup>
<col style="width: %;">
<col style="width: %;">
<col style="width: %;">
<col style="width: %;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>autoLoadFactory</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to automatically locate and register an <code>HttpClientFactory</code>
                                              from the classpath. If <code>false</code>, applications must manually register
                                              an <code>HttpClientFactory</code> with the name <code>httpClientFactory</code>, or the
                                              application will fail to start.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>autoLoadConverters</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to automatically register the built-in filters and converters
                                              to the <code>httpClientFactory</code>. This does not affect loading filters and
                                              converters found in the <code>grails-app/http-filters</code> and
                                              <code>grails-app/http-converters</code> directories.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>scanPackages</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>List</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Additional classpath packages to scan for <code>HttpClientFactory</code> instances.
                                              This is useful when custom providers are used.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following example can be used to include the plugin. In this example, the bill-of-materials is used and the grails
plugin and the Jersey 1.x provider is included.</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">dependencyManagement {
    imports {
        mavenBom "org.grails:grails-bom:$grailsVersion"
        mavenBom "com.budjb:http-requests:0.1.11.BETA"
    }
    applyMavenExclusions false
}

dependencies {
    // ...
    compile "com.budjb:http-requests-grails"
    compile "com.budjb:http-requests-jersey1"
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Using the bill-of-materials allows the version of the <code>http-requests</code> libraries to not require a version.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_changelog">7. Changelog</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The changelog will be updated with release notes for each release of the library.</p>
</div>
<div class="sect2">
<h3 id="_version_1">7.1. Version 1</h3>
<div class="sect3">
<h4 id="_version_1_0_0">7.1.1. Version 1.0.0</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The changelog for version 1.0.0 will represent the changes for all versions before it.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Initial release of the library.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 0.1.11.BETA<br>
Last updated 2016-05-17 16:49:13 CDT
</div>
</div>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.js"></script>
<script>prettyPrint()</script>
</body>
</html>